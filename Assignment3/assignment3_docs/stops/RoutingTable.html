<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_201) on Wed May 15 12:34:51 AEST 2019 -->
<title>RoutingTable</title>
<meta name="date" content="2019-05-15">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RoutingTable";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../stops/RoutingEntry.html" title="class in stops"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../stops/Stop.html" title="class in stops"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?stops/RoutingTable.html" target="_top">Frames</a></li>
<li><a href="RoutingTable.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">stops</div>
<h2 title="Class RoutingTable" class="title">Class RoutingTable</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>stops.RoutingTable</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">RoutingTable</span>
extends java.lang.Object</pre>
<div class="block"><p>The class should map destination stops to RoutingEntry objects.

 <p>The table is able to redirect passengers from their current stop to the
 next intermediate stop which they should go to in order to reach their final
 destination.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../stops/RoutingTable.html#RoutingTable-stops.Stop-">RoutingTable</a></span>(<a href="../stops/Stop.html" title="class in stops">Stop</a>&nbsp;initialStop)</code>
<div class="block">Creates a new RoutingTable for the given stop.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stops/RoutingTable.html#addNeighbour-stops.Stop-">addNeighbour</a></span>(<a href="../stops/Stop.html" title="class in stops">Stop</a>&nbsp;neighbour)</code>
<div class="block">Adds the given stop as a neighbour of the stop stored in this table.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stops/RoutingTable.html#addOrUpdateEntry-stops.Stop-int-stops.Stop-">addOrUpdateEntry</a></span>(<a href="../stops/Stop.html" title="class in stops">Stop</a>&nbsp;destination,
                int&nbsp;newCost,
                <a href="../stops/Stop.html" title="class in stops">Stop</a>&nbsp;intermediate)</code>
<div class="block">If there is currently no entry for the destination in the table, a new entry
 for the given destination should be added, with a RoutingEntry for the given
 cost and next (intermediate) stop.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stops/RoutingTable.html#costTo-stops.Stop-">costTo</a></span>(<a href="../stops/Stop.html" title="class in stops">Stop</a>&nbsp;stop)</code>
<div class="block">Returns the cost associated with getting to the given stop.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../stops/Stop.html" title="class in stops">Stop</a>,java.lang.Integer&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stops/RoutingTable.html#getCosts--">getCosts</a></span>()</code>
<div class="block">Maps each destination stop in this table to the cost associated with getting
 to that destination.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../stops/Stop.html" title="class in stops">Stop</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stops/RoutingTable.html#getStop--">getStop</a></span>()</code>
<div class="block">Return the stop for which this table will handle routing.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../stops/Stop.html" title="class in stops">Stop</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stops/RoutingTable.html#nextStop-stops.Stop-">nextStop</a></span>(<a href="../stops/Stop.html" title="class in stops">Stop</a>&nbsp;destination)</code>
<div class="block">Returns the next intermediate stop which passengers should be routed to
 in order to reach the given destination.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stops/RoutingTable.html#synchronise--">synchronise</a></span>()</code>
<div class="block">Synchronises this routing table with the other tables in the network.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stops/RoutingTable.html#transferEntries-stops.Stop-">transferEntries</a></span>(<a href="../stops/Stop.html" title="class in stops">Stop</a>&nbsp;other)</code>
<div class="block">Updates the entries in the routing table of the given other stop, with the
 entries from this routing table.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../stops/Stop.html" title="class in stops">Stop</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stops/RoutingTable.html#traverseNetwork--">traverseNetwork</a></span>()</code>
<div class="block">Performs a traversal of all the stops in the network, and returns a
 list of every stop which is reachable from the stop stored in this table.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RoutingTable-stops.Stop-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RoutingTable</h4>
<pre>public&nbsp;RoutingTable(<a href="../stops/Stop.html" title="class in stops">Stop</a>&nbsp;initialStop)</pre>
<div class="block">Creates a new RoutingTable for the given stop.

 <p>The routing table should be created with an entry for its initial stop
 (i.e. a mapping from the stop to a <a href="../stops/RoutingEntry.html#RoutingEntry--"><code>RoutingEntry.RoutingEntry()</code></a>
 for that stop.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>initialStop</code> - The stop for which this table will handle routing.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addNeighbour-stops.Stop-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addNeighbour</h4>
<pre>public&nbsp;void&nbsp;addNeighbour(<a href="../stops/Stop.html" title="class in stops">Stop</a>&nbsp;neighbour)</pre>
<div class="block">Adds the given stop as a neighbour of the stop stored in this table.

 <p>A neighbouring stop should be added as a destination in this table, with
 the cost to reach that destination simply being the Manhattan distance between
 this table's stop and the given neighbour stop.

 <p> If the given neighbour already exists in the table, it should be updated
 (as defined in <a href="../stops/RoutingTable.html#addOrUpdateEntry-stops.Stop-int-stops.Stop-"><code>addOrUpdateEntry(Stop, int, Stop)</code></a>).

 <p>The 'intermediate'/'next' stop between this table's stop and the new neighbour
 stop should simply be the neighbour stop itself.

 <p>Once the new neighbour has been added as an entry, this table should be
 synchronised with the rest of the network using the <a href="../stops/RoutingTable.html#synchronise--"><code>synchronise()</code></a>
 method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>neighbour</code> - The stop to be added as a neighbour.</dd>
</dl>
</li>
</ul>
<a name="addOrUpdateEntry-stops.Stop-int-stops.Stop-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addOrUpdateEntry</h4>
<pre>public&nbsp;boolean&nbsp;addOrUpdateEntry(<a href="../stops/Stop.html" title="class in stops">Stop</a>&nbsp;destination,
                                int&nbsp;newCost,
                                <a href="../stops/Stop.html" title="class in stops">Stop</a>&nbsp;intermediate)</pre>
<div class="block">If there is currently no entry for the destination in the table, a new entry
 for the given destination should be added, with a RoutingEntry for the given
 cost and next (intermediate) stop.

 <p>If there is already an entry for the given destination, and the newCost
 is lower than the current cost associated with the destination, then the entry
 should be updated to have the given newCost and next (intermediate) stop.

 <p>If there is already an entry for the given destination, but the newCost
 is greater than or equal to the current cost associated with the destination,
 then the entry should remain unchanged.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>destination</code> - The destination stop to add/update the entry.</dd>
<dd><code>newCost</code> - The new cost to associate with the new/updated entry</dd>
<dd><code>intermediate</code> - The new intermediate/next stop to associate with the
                     new/updated entry</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if a new entry was added, or an existing one was updated, or
         false if the table remained unchanged.</dd>
</dl>
</li>
</ul>
<a name="costTo-stops.Stop-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>costTo</h4>
<pre>public&nbsp;int&nbsp;costTo(<a href="../stops/Stop.html" title="class in stops">Stop</a>&nbsp;stop)</pre>
<div class="block">Returns the cost associated with getting to the given stop.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stop</code> - The stop to get the cost.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The cost to the given stop, or Integer.MAX_VALUE if the stop is not
 currently in this routing table.</dd>
</dl>
</li>
</ul>
<a name="getCosts--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCosts</h4>
<pre>public&nbsp;java.util.Map&lt;<a href="../stops/Stop.html" title="class in stops">Stop</a>,java.lang.Integer&gt;&nbsp;getCosts()</pre>
<div class="block">Maps each destination stop in this table to the cost associated with getting
 to that destination.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A mapping from destination stops to the costs associated with getting
         to those stops.</dd>
</dl>
</li>
</ul>
<a name="getStop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStop</h4>
<pre>public&nbsp;<a href="../stops/Stop.html" title="class in stops">Stop</a>&nbsp;getStop()</pre>
<div class="block">Return the stop for which this table will handle routing.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="nextStop-stops.Stop-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextStop</h4>
<pre>public&nbsp;<a href="../stops/Stop.html" title="class in stops">Stop</a>&nbsp;nextStop(<a href="../stops/Stop.html" title="class in stops">Stop</a>&nbsp;destination)</pre>
<div class="block">Returns the next intermediate stop which passengers should be routed to
 in order to reach the given destination.
 If the given stop is null or not in the table, then return null</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>destination</code> - The destination which the passengers are being routed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The best stop to route the passengers to in order to reach the
         given destination.</dd>
</dl>
</li>
</ul>
<a name="synchronise--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>synchronise</h4>
<pre>public&nbsp;void&nbsp;synchronise()</pre>
<div class="block">Synchronises this routing table with the other tables in the network.

 <p>In each iteration, every stop in the network which is reachable by
 this table's stop (as returned by <a href="../stops/RoutingTable.html#traverseNetwork--"><code>traverseNetwork()</code></a>) must be
 considered. For each stop x in the network, each of its neighbours must
 be visited, and the entries from x must be transferred to each neighbour
 (using the <a href="../stops/RoutingTable.html#transferEntries-stops.Stop-"><code>transferEntries(Stop)</code></a> method).

 <p>If any of these transfers results in a change to the table that the entries
 are being transferred, then the entire process must be repeated again.
 These iterations should continue happening until no changes occur to any
 of the tables in the network.

 <p>This process is designed to handle changes which need to be propagated
 throughout the entire network, which could take more than one iteration.</div>
</li>
</ul>
<a name="transferEntries-stops.Stop-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transferEntries</h4>
<pre>public&nbsp;boolean&nbsp;transferEntries(<a href="../stops/Stop.html" title="class in stops">Stop</a>&nbsp;other)</pre>
<div class="block">Updates the entries in the routing table of the given other stop, with the
 entries from this routing table.

 <p>If this routing table has entries which the other stop's table doesn't,
 then the entries should be added to the other table (as defined in
 <a href="../stops/RoutingTable.html#addOrUpdateEntry-stops.Stop-int-stops.Stop-"><code>addOrUpdateEntry(Stop, int, Stop)</code></a>) with the cost
 being updated to include the distance.

 <p>If this routing table has entries which the other stop's table does have,
 and the new cost would be lower than that associated with its existing entry,
 then its entry should be updated (as defined in
 <a href="../stops/RoutingTable.html#addOrUpdateEntry-stops.Stop-int-stops.Stop-"><code>addOrUpdateEntry(Stop, int, Stop)</code></a>).

 <p>If this routing table has entries which the other stop's table does have,
 but the new cost would be greater than or equal to that associated with its
 existing entry, then its entry should remain unchanged.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>other</code> - The stop whose routing table this table's entries should be
              transferred.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if any new entries were added to the other stop's table, or
         if any of its existing entries were updated, or false if the other
         stop's table remains unchanged.</dd>
<dt><span class="simpleTagLabel">Require:</span></dt>
<dd>this.getStop().getNeighbours().contains(other) == true</dd>
</dl>
</li>
</ul>
<a name="traverseNetwork--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>traverseNetwork</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../stops/Stop.html" title="class in stops">Stop</a>&gt;&nbsp;traverseNetwork()</pre>
<div class="block">Performs a traversal of all the stops in the network, and returns a
 list of every stop which is reachable from the stop stored in this table.
 <ol>
  <li>Firstly create an empty list of Stops and an empty Stack of Stops.
  Push the RoutingTable's Stop on to the stack.</li>

  <li>While the stack is not empty,
  <ol>
      <li>pop the top Stop (current) from the stack.</li>
      <li>For each of that stop's neighbours,
        <ol>
          <li>if they are not in the list, add them to the stack.</li>
        </ol>
      <li>Then add the current Stop to the list.</li>


 </ol>
 <li>Return the list of seen stops.</li>
 </ol></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>All of the stops in the network which are reachable by the stop
         stored in this table.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../stops/RoutingEntry.html" title="class in stops"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../stops/Stop.html" title="class in stops"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?stops/RoutingTable.html" target="_top">Frames</a></li>
<li><a href="RoutingTable.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
